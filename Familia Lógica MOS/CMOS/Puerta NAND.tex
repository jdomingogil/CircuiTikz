% Familia Lógica MOS - Puerta NAND en CMOS
% MOS Logic Family  - NOR Gate using CMOS

% Author: José Domingo Gil Iglesias
% Date: April, 2025

\documentclass[border=10pt]{standalone}
\usepackage[american, siunitx]{circuitikz}

\begin{document}

\begin{circuitikz}
    \ctikzset{tripoles/mos style/arrows}
    \ctikzset{transistors/arrow pos=end}    
    
    %\draw (0,0) node[nmos] (n1) {\(N1\)}
    \draw  
        (0,0) node[nmos] (n1) {\(N1\)}
        (n1.G) to[short, -o] ++(-4,0) node[left] {\(A\)}
        (0,-1.5) node[nmos] (n2) {\(N2\)}
        (n2.G) to[short, -o] ++(-4,0) node[left] {\(B\)}
        (n2.S) node[ground] {}
        (0,1.5) node[pmos, nocircle, yscale=-1] (p2) {} node[right] {\(P2\)}
        (n1.D) to[short, -*] (p2.S) to[short, -o] ++(1,0) node[right] {\(V_{out}\)}
        (p2.D) to[short, -o] ++(0,0.5) node[above] {\(V_D\)}
        (-3,1.5) node[pmos, nocircle, yscale=-1] (p1) {} node[right] {\(P1\)}
        (p1.S) -- (p2.S)
        (p1.D) to[short, -*] (p2.D)
        (n2.G) to[short, *-] (p2.G)
        (p1.G) to[short, -*] (p1.G |- n1.G)
    ;
\end{circuitikz}

\end{document}
